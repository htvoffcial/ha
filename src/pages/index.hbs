<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" href="https://glitch.com/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Hello Node!</title>

    <!-- import the webpage's stylesheet -->
    <link rel="stylesheet" href="/style.css" />   
  </head>
  <body>
    
    <!-- this is the start of content -->
    <center>
      
    
    <box>
      <div id="display">
    <h1>
    登録が必要です
    </h1>
      

      <p>
        安否の確認・登録には、利用者情報を入力してください。<br>
        半角英数で入力してください
        </p>
  <input placeholder="ここに情報を入力" id="ids" pattern="^[0-9A-Za-z]+$" onInput="textCheck(this)"><br><input type="button" onclick="auth()" value="登録" ><br>
      
        <hr>
      <small>
  ※個人情報保護のため、「あらかじめ決めていた暗号」などをご登録ください
    </small>
      </div>
        </box>
      
    </center>
    <script>
      function auth(){
    localStorage.setItem('user', document.getElementById("ids").value);
        document.getElementById("display").innerHTML="<h1>ご利用を開始します</h1><p>ようこそ<b>"+document.getElementById("ids").value+"</b>様。</p><a href='/src/pages/anpi.html'>安否の確認・登録</a>";
      }
      function authok(){
    document.write("まもなく安否の確認・登録ページへ、移動します");
        location.href="anpi.html";
      }
     function textCheck($this)
      {
        let str=$this.value;
        // 文頭から文末まで全て0-9かチェック
        if(!str.match(/^[0-9A-Za-z]+$/)){
          // そうでなければ入力文字を空白に変換
          str="";
        }
        $this.value=str;
      }
      
            
     var ABC = localStorage.getItem( "user" );
if ( ABC ){
  location.href="/src/pages/anpi.html";
} else {
  
}
    </script>
  </body>
</html>
